{"ast":null,"code":"import axios from\"axios\";import{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{API_URL}from\"../App\";import Loading from\"../components/Loading\";import Navbar from\"../components/Navbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const SignupPage=_ref=>{let{Data}=_ref;const[username,setUsername]=useState(\"\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[confirmPassword,setConfirmPassword]=useState(\"\");const[message,setMessage]=useState(\"\");const[isLoading,setisLoading]=useState(false);const navigate=useNavigate();const handleSignUp=()=>{setisLoading(true);try{if(password!==confirmPassword){setMessage(\"Password and confirm password do not match. Please make sure you enter the same password in both fields.\");return;}axios.post(\"\".concat(API_URL,\"/api/accounts/signup\"),{username:username,email:email,password:password}).then(_ref2=>{let{data}=_ref2;Data.setTokenFunction(data.token);Data.setIdFunction(data.id);navigate(\"/problemset\");}).catch(e=>{var _e$response;setisLoading(false);setMessage(((_e$response=e.response)===null||_e$response===void 0?void 0:_e$response.data).message);});}catch(error){console.error(\"Sign-up failed:\",error);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"min-h-fit w-[300px] mx-auto text-[14px]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-black shadow-md rounded px-8 pt-6 pb-8 mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-[34px] font-bold mb-[30px] text-center mt-[60px]\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{className:\"appearance-none border w-full py-2 px-3 placeholder:text-text_2 focus:placeholder:text-orange-500 bg-black rounded border-borders leading-tight focus:outline-none focus:border-orange-500\",type:\"text\",placeholder:\"Username\",value:username,onChange:e=>setUsername(e.target.value),required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{className:\"appearance-none border w-full py-2 px-3 placeholder:text-text_2 focus:placeholder:text-orange-500 bg-black rounded border-borders leading-tight focus:outline-none focus:border-orange-500\",type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{className:\"appearance-none border w-full py-2 px-3 placeholder:text-text_2 focus:placeholder:text-orange-500 bg-black rounded border-borders leading-tight focus:outline-none focus:border-orange-500\",type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"input\",{className:\"appearance-none border w-full py-2 px-3 placeholder:text-text_2 focus:placeholder:text-orange-500 bg-black rounded border-borders leading-tight focus:outline-none focus:border-orange-500\",type:\"password\",placeholder:\"Confirm Password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-orange-500 hover:bg-red-600 text-black font-bold py-[6px] px-4 rounded focus:outline-none focus:shadow-outline w-full transition\",type:\"button\",onClick:handleSignUp,children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"w-full block h-[21px]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-1/2 -translate-x-1/2\",children:/*#__PURE__*/_jsx(Loading,{})})}):\"Create Account\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-[20px]\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-text_2\",children:[\"Already have an account?\",\" \"]}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-orange-500 hover:text-red-600\",children:\"Login\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-[20px] text-red-600 w-full overflow-hidden\",children:message})]})})]});};export default SignupPage;","map":{"version":3,"names":["axios","useState","Link","useNavigate","API_URL","Loading","Navbar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SignupPage","_ref","Data","username","setUsername","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","message","setMessage","isLoading","setisLoading","navigate","handleSignUp","post","concat","then","_ref2","data","setTokenFunction","token","setIdFunction","id","catch","e","_e$response","response","error","console","children","className","type","placeholder","value","onChange","target","required","onClick","to"],"sources":["/Users/EL-CAPITAN-2016/Development/mentor/client/src/pages/SignupPage.tsx"],"sourcesContent":["import axios, { AxiosError } from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { API_URL } from \"../App\";\r\nimport Loading from \"../components/Loading\";\r\nimport Navbar from \"../components/Navbar\";\r\n\r\nconst SignupPage = ({\r\n    Data,\r\n}: {\r\n    Data: {\r\n        token: string;\r\n        setTokenFunction: (string: string) => void;\r\n        id: string;\r\n        setIdFunction: (string: string) => void;\r\n    };\r\n}) => {\r\n    const [username, setUsername] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n    const [message, setMessage] = useState(\"\");\r\n    const [isLoading, setisLoading] = useState<boolean>(false);\r\n    const navigate = useNavigate();\r\n\r\n    const handleSignUp = () => {\r\n        setisLoading(true);\r\n        try {\r\n            if (password !== confirmPassword) {\r\n                setMessage(\r\n                    \"Password and confirm password do not match. Please make sure you enter the same password in both fields.\"\r\n                );\r\n                return;\r\n            }\r\n            axios\r\n                .post(`${API_URL}/api/accounts/signup`, {\r\n                    username: username,\r\n                    email: email,\r\n                    password: password,\r\n                })\r\n                .then(({ data }) => {\r\n                    Data.setTokenFunction(data.token);\r\n                    Data.setIdFunction(data.id);\r\n                    navigate(\"/problemset\");\r\n                })\r\n                .catch((e: AxiosError) => {\r\n                    setisLoading(false);\r\n                    setMessage(\r\n                        (\r\n                            e.response?.data as {\r\n                                success: boolean;\r\n                                message: string;\r\n                            }\r\n                        ).message\r\n                    );\r\n                });\r\n        } catch (error) {\r\n            console.error(\"Sign-up failed:\", error);\r\n        }\r\n    };\r\n    return (\r\n        <>\r\n            <Navbar/>\r\n            <div className=\"min-h-fit w-[300px] mx-auto text-[14px]\">\r\n                <div className=\"relative bg-black shadow-md rounded px-8 pt-6 pb-8 mb-4\">\r\n                    <h2 className=\"text-[34px] font-bold mb-[30px] text-center mt-[60px]\">\r\n                        Sign Up\r\n                    </h2>\r\n                    <div className=\"mb-4\">\r\n                        <input\r\n                            className=\"appearance-none border w-full py-2 px-3 placeholder:text-text_2 focus:placeholder:text-orange-500 bg-black rounded border-borders leading-tight focus:outline-none focus:border-orange-500\"\r\n                            type=\"text\"\r\n                            placeholder=\"Username\"\r\n                            value={username}\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                            required={true}\r\n                        />\r\n                    </div>\r\n                    <div className=\"mb-4\">\r\n                        <input\r\n                            className=\"appearance-none border w-full py-2 px-3 placeholder:text-text_2 focus:placeholder:text-orange-500 bg-black rounded border-borders leading-tight focus:outline-none focus:border-orange-500\"\r\n                            type=\"email\"\r\n                            placeholder=\"Email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            required={true}\r\n                        />\r\n                    </div>\r\n                    <div className=\"mb-4\">\r\n                        <input\r\n                            className=\"appearance-none border w-full py-2 px-3 placeholder:text-text_2 focus:placeholder:text-orange-500 bg-black rounded border-borders leading-tight focus:outline-none focus:border-orange-500\"\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            required={true}\r\n                        />\r\n                    </div>\r\n                    <div className=\"mb-6\">\r\n                        <input\r\n                            className=\"appearance-none border w-full py-2 px-3 placeholder:text-text_2 focus:placeholder:text-orange-500 bg-black rounded border-borders leading-tight focus:outline-none focus:border-orange-500\"\r\n                            type=\"password\"\r\n                            placeholder=\"Confirm Password\"\r\n                            value={confirmPassword}\r\n                            onChange={(e) => setConfirmPassword(e.target.value)}\r\n                            required={true}\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <button\r\n                            className=\"bg-orange-500 hover:bg-red-600 text-black font-bold py-[6px] px-4 rounded focus:outline-none focus:shadow-outline w-full transition\"\r\n                            type=\"button\"\r\n                            onClick={handleSignUp}\r\n                        >\r\n                            {isLoading ? (\r\n                                <div className=\"w-full block h-[21px]\">\r\n                                    <div className=\"absolute left-1/2 -translate-x-1/2\">\r\n                                        <Loading />\r\n                                    </div>\r\n                                </div>\r\n                            ) : (\r\n                                \"Create Account\"\r\n                            )}\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between mt-[20px]\">\r\n                        <span className=\"text-text_2\">\r\n                            Already have an account?{\" \"}\r\n                        </span>\r\n                        <Link\r\n                            to=\"/login\"\r\n                            className=\"text-orange-500 hover:text-red-600\"\r\n                        >\r\n                            Login\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"text-center mt-[20px] text-red-600 w-full overflow-hidden\">\r\n                        {message}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SignupPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAsB,OAAO,CACzC,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,OAAO,KAAQ,QAAQ,CAChC,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE1C,KAAM,CAAAC,UAAU,CAAGC,IAAA,EASb,IATc,CAChBC,IAQJ,CAAC,CAAAD,IAAA,CACG,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACiB,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACmB,QAAQ,CAAEC,WAAW,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACqB,eAAe,CAAEC,kBAAkB,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACuB,OAAO,CAAEC,UAAU,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACyB,SAAS,CAAEC,YAAY,CAAC,CAAG1B,QAAQ,CAAU,KAAK,CAAC,CAC1D,KAAM,CAAA2B,QAAQ,CAAGzB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAA0B,YAAY,CAAGA,CAAA,GAAM,CACvBF,YAAY,CAAC,IAAI,CAAC,CAClB,GAAI,CACA,GAAIP,QAAQ,GAAKE,eAAe,CAAE,CAC9BG,UAAU,CACN,0GACJ,CAAC,CACD,OACJ,CACAzB,KAAK,CACA8B,IAAI,IAAAC,MAAA,CAAI3B,OAAO,yBAAwB,CACpCY,QAAQ,CAAEA,QAAQ,CAClBE,KAAK,CAAEA,KAAK,CACZE,QAAQ,CAAEA,QACd,CAAC,CAAC,CACDY,IAAI,CAACC,KAAA,EAAc,IAAb,CAAEC,IAAK,CAAC,CAAAD,KAAA,CACXlB,IAAI,CAACoB,gBAAgB,CAACD,IAAI,CAACE,KAAK,CAAC,CACjCrB,IAAI,CAACsB,aAAa,CAACH,IAAI,CAACI,EAAE,CAAC,CAC3BV,QAAQ,CAAC,aAAa,CAAC,CAC3B,CAAC,CAAC,CACDW,KAAK,CAAEC,CAAa,EAAK,KAAAC,WAAA,CACtBd,YAAY,CAAC,KAAK,CAAC,CACnBF,UAAU,CACN,EAAAgB,WAAA,CACID,CAAC,CAACE,QAAQ,UAAAD,WAAA,iBAAVA,WAAA,CAAYP,IAAI,EAIlBV,OACN,CAAC,CACL,CAAC,CAAC,CACV,CAAE,MAAOmB,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,iBAAiB,CAAEA,KAAK,CAAC,CAC3C,CACJ,CAAC,CACD,mBACIjC,KAAA,CAAAE,SAAA,EAAAiC,QAAA,eACIrC,IAAA,CAACF,MAAM,GAAC,CAAC,cACTE,IAAA,QAAKsC,SAAS,CAAC,yCAAyC,CAAAD,QAAA,cACpDnC,KAAA,QAAKoC,SAAS,CAAC,yDAAyD,CAAAD,QAAA,eACpErC,IAAA,OAAIsC,SAAS,CAAC,uDAAuD,CAAAD,QAAA,CAAC,SAEtE,CAAI,CAAC,cACLrC,IAAA,QAAKsC,SAAS,CAAC,MAAM,CAAAD,QAAA,cACjBrC,IAAA,UACIsC,SAAS,CAAC,4LAA4L,CACtMC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAEjC,QAAS,CAChBkC,QAAQ,CAAGV,CAAC,EAAKvB,WAAW,CAACuB,CAAC,CAACW,MAAM,CAACF,KAAK,CAAE,CAC7CG,QAAQ,CAAE,IAAK,CAClB,CAAC,CACD,CAAC,cACN5C,IAAA,QAAKsC,SAAS,CAAC,MAAM,CAAAD,QAAA,cACjBrC,IAAA,UACIsC,SAAS,CAAC,4LAA4L,CACtMC,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,OAAO,CACnBC,KAAK,CAAE/B,KAAM,CACbgC,QAAQ,CAAGV,CAAC,EAAKrB,QAAQ,CAACqB,CAAC,CAACW,MAAM,CAACF,KAAK,CAAE,CAC1CG,QAAQ,CAAE,IAAK,CAClB,CAAC,CACD,CAAC,cACN5C,IAAA,QAAKsC,SAAS,CAAC,MAAM,CAAAD,QAAA,cACjBrC,IAAA,UACIsC,SAAS,CAAC,4LAA4L,CACtMC,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAE7B,QAAS,CAChB8B,QAAQ,CAAGV,CAAC,EAAKnB,WAAW,CAACmB,CAAC,CAACW,MAAM,CAACF,KAAK,CAAE,CAC7CG,QAAQ,CAAE,IAAK,CAClB,CAAC,CACD,CAAC,cACN5C,IAAA,QAAKsC,SAAS,CAAC,MAAM,CAAAD,QAAA,cACjBrC,IAAA,UACIsC,SAAS,CAAC,4LAA4L,CACtMC,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,kBAAkB,CAC9BC,KAAK,CAAE3B,eAAgB,CACvB4B,QAAQ,CAAGV,CAAC,EAAKjB,kBAAkB,CAACiB,CAAC,CAACW,MAAM,CAACF,KAAK,CAAE,CACpDG,QAAQ,CAAE,IAAK,CAClB,CAAC,CACD,CAAC,cACN5C,IAAA,QAAKsC,SAAS,CAAC,mCAAmC,CAAAD,QAAA,cAC9CrC,IAAA,WACIsC,SAAS,CAAC,qIAAqI,CAC/IC,IAAI,CAAC,QAAQ,CACbM,OAAO,CAAExB,YAAa,CAAAgB,QAAA,CAErBnB,SAAS,cACNlB,IAAA,QAAKsC,SAAS,CAAC,uBAAuB,CAAAD,QAAA,cAClCrC,IAAA,QAAKsC,SAAS,CAAC,oCAAoC,CAAAD,QAAA,cAC/CrC,IAAA,CAACH,OAAO,GAAE,CAAC,CACV,CAAC,CACL,CAAC,CAEN,gBACH,CACG,CAAC,CACR,CAAC,cACNK,KAAA,QAAKoC,SAAS,CAAC,6CAA6C,CAAAD,QAAA,eACxDnC,KAAA,SAAMoC,SAAS,CAAC,aAAa,CAAAD,QAAA,EAAC,0BACF,CAAC,GAAG,EAC1B,CAAC,cACPrC,IAAA,CAACN,IAAI,EACDoD,EAAE,CAAC,QAAQ,CACXR,SAAS,CAAC,oCAAoC,CAAAD,QAAA,CACjD,OAED,CAAM,CAAC,EACN,CAAC,cACNrC,IAAA,QAAKsC,SAAS,CAAC,2DAA2D,CAAAD,QAAA,CACrErB,OAAO,CACP,CAAC,EACL,CAAC,CACL,CAAC,EACR,CAAC,CAEX,CAAC,CAED,cAAe,CAAAX,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}