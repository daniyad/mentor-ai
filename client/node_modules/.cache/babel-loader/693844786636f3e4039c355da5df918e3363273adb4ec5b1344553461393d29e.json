{"ast":null,"code":"import{useState}from\"react\";import CustomNavbar from\"../components/CustomNavbar\";import ProblemList from\"../components/ProblemList\";import MainHeading from\"../components/MainHeading\";import{useEffect}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{API_URL}from\"../App\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const ProblemSet=_ref=>{let{token,id}=_ref;const[username,setUsername]=useState(\"\");const[verified,setVerified]=useState(false);const navigate=useNavigate();const[problemListData,setProblemListData]=useState();const customNavData={items:[{text:\"All Topics\",link_path:\"/problemset\"},{text:\"Algorithms\",link_path:\"/problemset\"},{text:\"JavaScript\",link_path:\"/problemset\"},{text:\"DataBase\",link_path:\"/problemset\"},{text:\"Shell\",link_path:\"/problemset\"}]};const[searchQ,setSearchQ]=useState(\"\");const handleSearch=async function(searchQuery){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{acceptance_rate_count:\"\",difficulty:\"\",title:\"\"};const{acceptance_rate_count,difficulty,title}=options;try{const{data}=await axios.post(\"\".concat(API_URL,\"/api/problem/all?search=\").concat(searchQuery,\"&acceptance=\").concat(acceptance_rate_count,\"&difficulty=\").concat(difficulty,\"&title=\").concat(title),{id});setProblemListData(data);}catch(error){console.error(\"Error searching:\",error);}};useEffect(()=>{axios.get(\"\".concat(API_URL,\"/api/accounts/id/\").concat(id),{headers:{Authorization:token}}).then(_ref2=>{let{data}=_ref2;setUsername(data.username);setVerified(true);}).catch(e=>{console.log(e);navigate(\"/sorry\");setVerified(false);});axios.post(\"\".concat(API_URL,\"/api/problem/all\"),{id:id}).then(_ref3=>{let{data}=_ref3;setProblemListData(data);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[verified?/*#__PURE__*/_jsx(MainHeading,{data:{username:username}}):/*#__PURE__*/_jsx(MainHeading,{data:{status:\"none\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"h-[calc(100vh-60px)] overflow-hidden bg-black\",children:/*#__PURE__*/_jsx(\"div\",{id:\"cont\",className:\"relative flex flex-row h-[calc(100vh-60px)] w-full mt-[8px] \",children:/*#__PURE__*/_jsxs(\"div\",{id:\"explanation\",className:\"h-[calc(100%-16px)] bg-black border border-borders ml-[8px] rounded-lg w-[calc(100%-16px)] overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-black border-b border-borders \",children:/*#__PURE__*/_jsx(\"div\",{className:\"ml-[9px]\",children:/*#__PURE__*/_jsx(CustomNavbar,{data:customNavData})})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-black h-[40px] relative border-b border-borders\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search questions...\",onChange:e=>{handleSearch(e.target.value);setSearchQ(e.target.value);},className:\"bg-black outline-none border-none relative -translate-y-1/2 top-1/2 left-[9px] px-[20px] text-[14px] h-[calc(100%-2px)] placeholder:text-[14px] placeholder:text-text_2 w-[calc(100%-100px)]\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ProblemList,{searchFn:handleSearch,searchQuery:searchQ,data:problemListData})})]})})})]});};export default ProblemSet;","map":{"version":3,"names":["useState","CustomNavbar","ProblemList","MainHeading","useEffect","axios","useNavigate","API_URL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProblemSet","_ref","token","id","username","setUsername","verified","setVerified","navigate","problemListData","setProblemListData","customNavData","items","text","link_path","searchQ","setSearchQ","handleSearch","searchQuery","options","arguments","length","undefined","acceptance_rate_count","difficulty","title","data","post","concat","error","console","get","headers","Authorization","then","_ref2","catch","e","log","_ref3","children","status","className","type","placeholder","onChange","target","value","searchFn"],"sources":["/Users/EL-CAPITAN-2016/Development/mentor/client/src/pages/ProblemSet.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport CustomNavbar from \"../components/CustomNavbar\";\r\nimport ProblemList from \"../components/ProblemList\";\r\nimport MainHeading from \"../components/MainHeading\";\r\nimport { useEffect } from \"react\";\r\nimport axios, { AxiosError } from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { API_URL } from \"../App\";\r\n\r\nconst ProblemSet = ({\r\n    token,\r\n    id,\r\n}: {\r\n    token: string | null;\r\n    id: string | null;\r\n}) => {\r\n    const [username, setUsername] = useState<string>(\"\");\r\n    const [verified, setVerified] = useState<boolean>(false);\r\n    const navigate = useNavigate();\r\n    const [problemListData, setProblemListData] = useState();\r\n    const customNavData: Navbar = {\r\n        items: [\r\n            { text: \"All Topics\", link_path: \"/problemset\" },\r\n            { text: \"Algorithms\", link_path: \"/problemset\" },\r\n            { text: \"JavaScript\", link_path: \"/problemset\" },\r\n            { text: \"DataBase\", link_path: \"/problemset\" },\r\n            { text: \"Shell\", link_path: \"/problemset\" },\r\n        ],\r\n    };\r\n\r\n    const [searchQ, setSearchQ] = useState<string>(\"\");\r\n\r\n    const handleSearch = async (\r\n        searchQuery: string,\r\n        options: SortOptions = {\r\n            acceptance_rate_count: \"\",\r\n            difficulty: \"\",\r\n            title: \"\",\r\n        }\r\n    ) => {\r\n        const { acceptance_rate_count, difficulty, title } = options;\r\n        try {\r\n            const { data } = await axios.post(\r\n                `${API_URL}/api/problem/all?search=${searchQuery}&acceptance=${acceptance_rate_count}&difficulty=${difficulty}&title=${title}`,\r\n                { id }\r\n            );\r\n            setProblemListData(data);\r\n        } catch (error) {\r\n            console.error(\"Error searching:\", error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .get(`${API_URL}/api/accounts/id/${id}`, {\r\n                headers: {\r\n                    Authorization: token,\r\n                },\r\n            })\r\n            .then(({ data }) => {\r\n                setUsername(data.username);\r\n                setVerified(true);\r\n            })\r\n            .catch((e: AxiosError) => {\r\n                console.log(e);\r\n                navigate(\"/sorry\");\r\n                setVerified(false);\r\n            });\r\n\r\n        axios\r\n            .post(`${API_URL}/api/problem/all`, { id: id })\r\n            .then(({ data }) => {\r\n                setProblemListData(data);\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {verified ? (\r\n                <MainHeading data={{ username: username }} />\r\n            ) : (\r\n                <MainHeading data={{ status: \"none\" }} />\r\n            )}\r\n\r\n            <div className=\"h-[calc(100vh-60px)] overflow-hidden bg-black\">\r\n                <div\r\n                    id=\"cont\"\r\n                    className=\"relative flex flex-row h-[calc(100vh-60px)] w-full mt-[8px] \"\r\n                >\r\n                    <div\r\n                        id=\"explanation\"\r\n                        className=\"h-[calc(100%-16px)] bg-black border border-borders ml-[8px] rounded-lg w-[calc(100%-16px)] overflow-hidden\"\r\n                    >\r\n                        <div className=\"w-full bg-black border-b border-borders \">\r\n                            <div className=\"ml-[9px]\">\r\n                                <CustomNavbar data={customNavData} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"w-full bg-black h-[40px] relative border-b border-borders\">\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Search questions...\"\r\n                                onChange={(e) => {\r\n                                    handleSearch(e.target.value);\r\n                                    setSearchQ(e.target.value);\r\n                                }}\r\n                                className=\"bg-black outline-none border-none relative -translate-y-1/2 top-1/2 left-[9px] px-[20px] text-[14px] h-[calc(100%-2px)] placeholder:text-[14px] placeholder:text-text_2 w-[calc(100%-100px)]\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <ProblemList\r\n                                searchFn={handleSearch}\r\n                                searchQuery={searchQ}\r\n                                data={problemListData as any}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ProblemSet;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}